<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Contar subcadena</title>
</head>

<body>

    <h2>Contar cuántas veces aparece una subcadena</h2>


    <label>Cadena principal:</label>
    <input type="text" id="texto" placeholder="Ej: Hola mundo, hola caracola">
    <br><br>


    <label>Subcadena a buscar:</label>
    <input type="text" id="subcadena" placeholder="Ej: hola">
    <br><br>


    <button onclick="contarSubcadenas()">Contar</button>


    <p id="resultado"></p>

    <script>

        function contarSubcadena(texto, subcadena) {

            // Si la subcadena está vacía, devolvemos 0 directamente
            if (subcadena.length === 0) {
                return 0;
            }

            var contador = 0;
            //esti sirve pa a bucar la primera vezz que sale
            var posicion = texto.indexOf(subcadena);

            // si se encentra la subcadena, entramos en el bucle
            while (posicion !== -1) {
                contador++; // sumamos una aparición
                // Buscamos la siguiente aparición después de la posición actual
                posicion = texto.indexOf(subcadena, posicion + subcadena.length);
            }

            return contador;
        }
        // Función para usar desde el HTML
        function contarSubcadenas() {
            var texto = document.getElementById("texto").value;
            var subcadena = document.getElementById("subcadena").value;

            var resultado = contarSubcadena(texto, subcadena);

            document.getElementById("resultado").innerHTML =
                "La subcadena '" + subcadena + "' aparece " + resultado + " veces.";
        }

    </script>

</body>

</html>