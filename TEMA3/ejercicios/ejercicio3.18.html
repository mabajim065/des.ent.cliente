<!--18. Escriba una funci贸n de JavaScript para contar la aparici贸n de una
subcadena en una cadena. -->
<!doctype html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Ejercicio 18 - Contar subcadenas</title>
</head>

<body>
    <h1>Ejercicio 18</h1>
    <div class="card">

        <label for="inputText">Cadena principal: </label>
        <input id="inputText" type="text" placeholder="ej. hola chicos, estoy probando hola">

        <label for="subcadena">Subcadena a buscar: </label>
        <input id="subcadena" type="text" placeholder="ej. hola">

        <div>
            <button id="boton">Contar apariciones</button>
        </div>

        <div id="result" aria-live="polite"></div>
    </div>

    <script>
        // Funci贸n para contar las apariciones de una subcadena en una cadena
        function contarSubcadena(cadena, subcadena) {
            if (!cadena || !subcadena) return 0;
            let contador = 0;
            let posicion = 0;

            while (true) {
                posicion = cadena.indexOf(subcadena, posicion);
                if (posicion !== -1) {
                    contador++;
                    posicion += subcadena.length;
                } else {
                    break;
                }
            }
            return contador;
        }

        const input = document.getElementById('inputText');
        const subcadenaInput = document.getElementById('subcadena');
        const boton = document.getElementById('boton');
        const result = document.getElementById('result');

        function mostrarResultado() {
            const cadena = input.value;
            const subcadena = subcadenaInput.value;
            const apariciones = contarSubcadena(cadena, subcadena);
            result.textContent = `La subcadena "${subcadena}" aparece ${apariciones} veces en la cadena principal.`;
        }

        boton.addEventListener('click', mostrarResultado);

        input.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') mostrarResultado();
        });

        subcadenaInput.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') mostrarResultado();
        });

        // Exportar la funci贸n para probar en consola
        window.contarSubcadena = contarSubcadena;
    </script>